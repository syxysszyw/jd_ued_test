<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="js/jquery-1.10.2.min.js"></script>
	<style>
		.banner{position: relative; width: 1191px; height: 304px; overflow: hidden;}
		.banner_list img{ border:none;}
		.banner ul{position: absolute;list-style-type: none;filter:alpha(Opacity=80); opacity: .8; z-index: 1000; margin:0; padding:0;bottom: 20px;left: 124px}
		.banner ul li{margin: 0px 5px; float: left; background: #000;cursor: pointer; width: 10px; height: 10px;}
		.banner ul li.on{background: #fff;}
		.banner .ctrl{width: 39px; height: 80px;position: absolute;z-index: 1000; background-image: url(img/bg_all.png); background-repeat: no-repeat; cursor: pointer;}
		.banner #prev{background-position: -51px 0px; top: 110px; left: 20px;}
		.banner #prev:hover{background-position: -95px 0px;}
		.banner #next{background-position: -51px -83px; top: 110px; right: 20px;}
		.banner #next:hover{background-position: -95px -83px;}
	</style>
</head>
<body>
	<div class="banner">
		<ul>
			<li data-id="1" class="on"></li>
			<li data-id="2"></li>
			<li data-id="3"></li>
			<li data-id="4"></li>
		</ul>
		<div class="ctrl" id="prev"></div>
		<div class="ctrl" id="next"></div>
		<div class="banner_list">
			<a href="#" target="_blank"><img src="img/banner1.jpg" alt="asdrera" title="banner" class="lazy"></a>
			<a href="#" target="_blank"><img src="img/banner2.jpg" alt="asdf" title="banner" class="lazy"></a>
			<a href="#" target="_blank"><img src="img/banner3.jpg" alt="qe" title="banner" class="lazy"></a>
			<a href="#" target="_blank"><img src="img/banner4.jpg" alt="fsf" title="banner" class="lazy"></a>
		</div>
	</div>
	<script>
		var timer = index = 0, count, curIndex;
		$(document).ready(function(){
			count = $('.banner_list a').length;
			$('.banner_list a:not(:first-child)').hide();
			$('.banner li').on('click', function(){
				var i = $(this).data('id') - 1;
				index = i;
				if(i >= count) return;
				$('.banner_list a').filter(':visible').fadeOut(200).parent().children().eq(i).fadeIn(1000);
				$('.banner').css('background', '');
				$(this).toggleClass('on').siblings().removeAttr("class");
			});

			$('#prev').on('click', function(){
				index = $('.banner_list a').filter(':visible').index();
				index = index <= 0 ? (count - 1) : --index;
				$('.banner li').eq(index).trigger('click');
			});

			$('#next').on('click', function(){
				index = $('.banner_list a').filter(':visible').index();
				index = index >= (count - 1)? 0 : ++index;
				$('.banner li').eq(index).trigger('click');
			});

			timer = setInterval('showAuto()', 2000);
			$('.banner').hover(function(){clearInterval(timer)}, function(){timer = setInterval('showAuto()', 2000);});
		});

		function showAuto(){
			index = index >= (count - 1)? 0 : ++index;
			$('.banner li').eq(index).trigger('click');
		}
	</script>
</body>
</html>